<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>django_tables2.tables &mdash; django-tables2 2.4.1 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> django-tables2
          </a>
              <div class="version">
                2.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pages/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/table-data.html">Populating a table with data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Customization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pages/custom-data.html">Alternative column data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/ordering.html">Alternative column ordering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/column-attributes.html">Column and row attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/column-headers-and-footers.html">Customizing headers and footers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/swapping-columns.html">Swapping the position of columns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/pagination.html">Pagination</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/table-mixins.html">Table Mixins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/custom-rendering.html">Customizing table style</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/query-string-fields.html">Query string fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/localization-control.html">Controlling localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/generic-mixins.html">Class Based Generic Mixins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/pinned-rows.html">Pinned rows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/filtering.html">Filtering data in your table</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/export.html">Exporting table data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pages/reference.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/upgrade-changelog.html">Upgrading and change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pages/glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">django-tables2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Module code</a> &raquo;</li>
      <li>django_tables2.tables</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for django_tables2.tables</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">count</span>

<span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>
<span class="kn">from</span> <span class="nn">django.core.paginator</span> <span class="kn">import</span> <span class="n">Paginator</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="nn">django.template.loader</span> <span class="kn">import</span> <span class="n">get_template</span>
<span class="kn">from</span> <span class="nn">django.utils.encoding</span> <span class="kn">import</span> <span class="n">force_str</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">columns</span>
<span class="kn">from</span> <span class="nn">.config</span> <span class="kn">import</span> <span class="n">RequestConfig</span>
<span class="kn">from</span> <span class="nn">.data</span> <span class="kn">import</span> <span class="n">TableData</span>
<span class="kn">from</span> <span class="nn">.rows</span> <span class="kn">import</span> <span class="n">BoundRows</span>
<span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">Accessor</span><span class="p">,</span> <span class="n">AttributeDict</span><span class="p">,</span> <span class="n">OrderBy</span><span class="p">,</span> <span class="n">OrderByTuple</span><span class="p">,</span> <span class="n">Sequence</span>


<span class="k">class</span> <span class="nc">DeclarativeColumnsMetaclass</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Metaclass that converts `.Column` objects defined on a class to the</span>
<span class="sd">    dictionary `.Table.base_columns`, taking into account parent class</span>
<span class="sd">    `base_columns` as well.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span>
        <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;_meta&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">opts</span> <span class="o">=</span> <span class="n">TableOptions</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Meta&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="n">name</span><span class="p">)</span>

        <span class="c1"># extract declared columns</span>
        <span class="n">cols</span><span class="p">,</span> <span class="n">remainder</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">attr_name</span><span class="p">,</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">attrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">columns</span><span class="o">.</span><span class="n">Column</span><span class="p">):</span>
                <span class="n">attr</span><span class="o">.</span><span class="n">_explicit</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">cols</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">attr_name</span><span class="p">,</span> <span class="n">attr</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">remainder</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr</span>
        <span class="n">attrs</span> <span class="o">=</span> <span class="n">remainder</span>

        <span class="n">cols</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">creation_counter</span><span class="p">)</span>

        <span class="c1"># If this class is subclassing other tables, add their fields as</span>
        <span class="c1"># well. Note that we loop over the bases in *reverse* - this is</span>
        <span class="c1"># necessary to preserve the correct order of columns.</span>
        <span class="n">parent_columns</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">bases</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="s2">&quot;base_columns&quot;</span><span class="p">):</span>
                <span class="n">parent_columns</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">base</span><span class="o">.</span><span class="n">base_columns</span><span class="o">.</span><span class="n">items</span><span class="p">())</span> <span class="o">+</span> <span class="n">parent_columns</span>

        <span class="c1"># Start with the parent columns</span>
        <span class="n">base_columns</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="n">parent_columns</span><span class="p">)</span>

        <span class="c1"># Possibly add some generated columns based on a model</span>
        <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">model</span><span class="p">:</span>
            <span class="n">extra</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>

            <span class="c1"># honor Table.Meta.fields, fallback to model._meta.fields</span>
            <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># Each item in opts.fields is the name of a model field or a normal attribute on the model</span>
                <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="n">opts</span><span class="o">.</span><span class="n">fields</span><span class="p">:</span>
                    <span class="n">extra</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">columns</span><span class="o">.</span><span class="n">library</span><span class="o">.</span><span class="n">column_for_field</span><span class="p">(</span>
                        <span class="n">field</span><span class="o">=</span><span class="n">Accessor</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">model</span><span class="p">),</span>
                        <span class="n">accessor</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span>
                        <span class="n">linkify</span><span class="o">=</span><span class="n">opts</span><span class="o">.</span><span class="n">linkify</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="p">),</span>
                    <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">opts</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">fields</span><span class="p">:</span>
                    <span class="n">extra</span><span class="p">[</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">columns</span><span class="o">.</span><span class="n">library</span><span class="o">.</span><span class="n">column_for_field</span><span class="p">(</span>
                        <span class="n">field</span><span class="p">,</span> <span class="n">linkify</span><span class="o">=</span><span class="n">opts</span><span class="o">.</span><span class="n">linkify</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="n">accessor</span><span class="o">=</span><span class="n">field</span><span class="o">.</span><span class="n">name</span>
                    <span class="p">)</span>

            <span class="c1"># update base_columns with extra columns</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">extra</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="c1"># skip current column because the parent was explicitly defined,</span>
                <span class="c1"># and the current column is not.</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">base_columns</span> <span class="ow">and</span> <span class="n">base_columns</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">_explicit</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="n">base_columns</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">column</span>

        <span class="c1"># Explicit columns override both parent and generated columns</span>
        <span class="n">base_columns</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">OrderedDict</span><span class="p">(</span><span class="n">cols</span><span class="p">))</span>

        <span class="c1"># Apply any explicit exclude setting</span>
        <span class="k">for</span> <span class="n">exclusion</span> <span class="ow">in</span> <span class="n">opts</span><span class="o">.</span><span class="n">exclude</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">exclusion</span> <span class="ow">in</span> <span class="n">base_columns</span><span class="p">:</span>
                <span class="n">base_columns</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">exclusion</span><span class="p">)</span>

        <span class="c1"># Remove any columns from our remainder, else columns from our parent class will remain</span>
        <span class="k">for</span> <span class="n">attr_name</span> <span class="ow">in</span> <span class="n">remainder</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">attr_name</span> <span class="ow">in</span> <span class="n">base_columns</span><span class="p">:</span>
                <span class="n">base_columns</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">attr_name</span><span class="p">)</span>

        <span class="c1"># Set localize on columns</span>
        <span class="k">for</span> <span class="n">col_name</span> <span class="ow">in</span> <span class="n">base_columns</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">localize_column</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">col_name</span> <span class="ow">in</span> <span class="n">opts</span><span class="o">.</span><span class="n">localize</span><span class="p">:</span>
                <span class="n">localize_column</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="c1"># unlocalize gets higher precedence</span>
            <span class="k">if</span> <span class="n">col_name</span> <span class="ow">in</span> <span class="n">opts</span><span class="o">.</span><span class="n">unlocalize</span><span class="p">:</span>
                <span class="n">localize_column</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="n">localize_column</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">base_columns</span><span class="p">[</span><span class="n">col_name</span><span class="p">]</span><span class="o">.</span><span class="n">localize</span> <span class="o">=</span> <span class="n">localize_column</span>

        <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;base_columns&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">base_columns</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">attrs</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">TableOptions</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extracts and exposes options for a `.Table` from a `.Table.Meta`</span>
<span class="sd">    when the table is defined. See `.Table` for documentation on the impact of</span>
<span class="sd">    variables in this class.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        options (`.Table.Meta`): options for a table from `.Table.Meta`</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">class_name</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_types</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">class_name</span><span class="p">)</span>

        <span class="n">DJANGO_TABLES2_TEMPLATE</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
            <span class="n">settings</span><span class="p">,</span> <span class="s2">&quot;DJANGO_TABLES2_TEMPLATE&quot;</span><span class="p">,</span> <span class="s2">&quot;django_tables2/table.html&quot;</span>
        <span class="p">)</span>
        <span class="n">DJANGO_TABLES2_TABLE_ATTRS</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="s2">&quot;DJANGO_TABLES2_TABLE_ATTRS&quot;</span><span class="p">,</span> <span class="p">{})</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;attrs&quot;</span><span class="p">,</span> <span class="n">DJANGO_TABLES2_TABLE_ATTRS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">row_attrs</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;row_attrs&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pinned_row_attrs</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;pinned_row_attrs&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;â€”&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">empty_text</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;empty_text&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fields</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;fields&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">linkify</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;linkify&quot;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">linkify</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">linkify</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">linkify</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linkify</span> <span class="o">=</span> <span class="n">linkify</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">exclude</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span> <span class="p">())</span>
        <span class="n">order_by</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;order_by&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">order_by</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">order_by</span> <span class="o">=</span> <span class="p">(</span><span class="n">order_by</span><span class="p">,)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">order_by</span> <span class="o">=</span> <span class="n">OrderByTuple</span><span class="p">(</span><span class="n">order_by</span><span class="p">)</span> <span class="k">if</span> <span class="n">order_by</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">order_by_field</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;order_by_field&quot;</span><span class="p">,</span> <span class="s2">&quot;sort&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">page_field</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;page_field&quot;</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">per_page</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;per_page&quot;</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">per_page_field</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;per_page_field&quot;</span><span class="p">,</span> <span class="s2">&quot;per_page&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;prefix&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_header</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;show_header&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_footer</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;show_footer&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sequence</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;sequence&quot;</span><span class="p">,</span> <span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">orderable</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;orderable&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">template_name</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;template_name&quot;</span><span class="p">,</span> <span class="n">DJANGO_TABLES2_TEMPLATE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">localize</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;localize&quot;</span><span class="p">,</span> <span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unlocalize</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s2">&quot;unlocalize&quot;</span><span class="p">,</span> <span class="p">())</span>

    <span class="k">def</span> <span class="nf">_check_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">class_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check class Meta attributes to prevent common mistakes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">options</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">checks</span> <span class="o">=</span> <span class="p">{</span>
            <span class="p">(</span><span class="nb">bool</span><span class="p">,):</span> <span class="p">[</span><span class="s2">&quot;show_header&quot;</span><span class="p">,</span> <span class="s2">&quot;show_footer&quot;</span><span class="p">,</span> <span class="s2">&quot;orderable&quot;</span><span class="p">],</span>
            <span class="p">(</span><span class="nb">int</span><span class="p">,):</span> <span class="p">[</span><span class="s2">&quot;per_page&quot;</span><span class="p">],</span>
            <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span> <span class="p">[</span><span class="s2">&quot;fields&quot;</span><span class="p">,</span> <span class="s2">&quot;sequence&quot;</span><span class="p">,</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;localize&quot;</span><span class="p">,</span> <span class="s2">&quot;unlocalize&quot;</span><span class="p">],</span>
            <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">set</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span> <span class="p">[</span><span class="s2">&quot;linkify&quot;</span><span class="p">],</span>
            <span class="nb">str</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;template_name&quot;</span><span class="p">,</span> <span class="s2">&quot;prefix&quot;</span><span class="p">,</span> <span class="s2">&quot;order_by_field&quot;</span><span class="p">,</span> <span class="s2">&quot;page_field&quot;</span><span class="p">,</span> <span class="s2">&quot;per_page_field&quot;</span><span class="p">],</span>
            <span class="p">(</span><span class="nb">dict</span><span class="p">,):</span> <span class="p">[</span><span class="s2">&quot;attrs&quot;</span><span class="p">,</span> <span class="s2">&quot;row_attrs&quot;</span><span class="p">,</span> <span class="s2">&quot;pinned_row_attrs&quot;</span><span class="p">],</span>
            <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span> <span class="p">[</span><span class="s2">&quot;order_by&quot;</span><span class="p">],</span>
            <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">),):</span> <span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">],</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="n">types</span><span class="p">,</span> <span class="n">keys</span> <span class="ow">in</span> <span class="n">checks</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">types</span><span class="p">):</span>
                    <span class="n">expression</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2"> = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">())</span>

                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                        <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> (type </span><span class="si">{}</span><span class="s2">), but type must be one of (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">expression</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">t</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">types</span><span class="p">])</span>
                        <span class="p">)</span>
                    <span class="p">)</span>


<div class="viewcode-block" id="Table"><a class="viewcode-back" href="../../pages/api-reference.html#django_tables2.tables.Table">[docs]</a><span class="k">class</span> <span class="nc">Table</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">DeclarativeColumnsMetaclass</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A representation of a table.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (QuerySet, list of dicts): The data to display.</span>
<span class="sd">            This is a required variable, a `TypeError` will be raised if it&#39;s not passed.</span>

<span class="sd">        order_by: (tuple or str): The default ordering tuple or comma separated str.</span>
<span class="sd">            A hyphen `-` can be used to prefix a column name to indicate</span>
<span class="sd">            *descending* order, for example: `(&quot;name&quot;, &quot;-age&quot;)` or `name,-age`.</span>

<span class="sd">        orderable (bool): Enable/disable column ordering on this table</span>

<span class="sd">        empty_text (str): Empty text to render when the table has no data.</span>
<span class="sd">            (default `.Table.Meta.empty_text`)</span>

<span class="sd">        exclude (iterable or str): The names of columns that should not be</span>
<span class="sd">            included in the table.</span>

<span class="sd">        attrs (dict): HTML attributes to add to the ``&lt;table&gt;`` tag.</span>
<span class="sd">            When accessing the attribute, the value is always returned as an</span>
<span class="sd">            `.AttributeDict` to allow easily conversion to HTML.</span>

<span class="sd">        row_attrs (dict): Add custom html attributes to the table rows.</span>
<span class="sd">            Allows custom HTML attributes to be specified which will be added</span>
<span class="sd">            to the ``&lt;tr&gt;`` tag of the rendered table.</span>

<span class="sd">        pinned_row_attrs (dict): Same as row_attrs but for pinned rows.</span>

<span class="sd">        sequence (iterable): The sequence/order of columns the columns (from</span>
<span class="sd">            left to right).</span>

<span class="sd">            Items in the sequence must be :term:`column names &lt;column name&gt;`, or</span>
<span class="sd">            `&quot;...&quot;` (string containing three periods). `&#39;...&#39;` can be used as a</span>
<span class="sd">            catch-all for columns that are not specified.</span>

<span class="sd">        prefix (str): A prefix for query string fields.</span>
<span class="sd">            To avoid name-clashes when  using multiple tables on single page.</span>

<span class="sd">        order_by_field (str): If not `None`, defines the name of the *order by*</span>
<span class="sd">            query string field in the URL.</span>

<span class="sd">        page_field (str): If not `None`, defines the name of the *current page*</span>
<span class="sd">            query string field.</span>

<span class="sd">        per_page_field (str): If not `None`, defines the name of the *per page*</span>
<span class="sd">            query string field.</span>

<span class="sd">        template_name (str): The template to render when using ``{% render_table %}``</span>
<span class="sd">            (defaults to DJANGO_TABLES2_TEMPLATE, which is ``&quot;django_tables2/table.html&quot;``</span>
<span class="sd">            by default).</span>

<span class="sd">        default (str): Text to render in empty cells (determined by</span>
<span class="sd">            `.Column.empty_values`, default `.Table.Meta.default`)</span>

<span class="sd">        request: Django&#39;s request to avoid using `RequestConfig`</span>

<span class="sd">        show_header (bool): If `False`, the table will not have a header</span>
<span class="sd">            (`&lt;thead&gt;`), defaults to `True`</span>

<span class="sd">        show_footer (bool): If `False`, the table footer will not be rendered,</span>
<span class="sd">            even if some columns have a footer, defaults to `True`.</span>

<span class="sd">        extra_columns (str, `.Column`): list of `(name, column)`-tuples containing</span>
<span class="sd">            extra columns to add to the instance. If `column` is `None`, the column</span>
<span class="sd">            with `name` will be removed from the table.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">order_by</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">orderable</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">empty_text</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">exclude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">row_attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">pinned_row_attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">sequence</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">order_by_field</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">page_field</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">per_page_field</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">template_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">request</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">show_header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">show_footer</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">extra_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># note that although data is a keyword argument, it used to be positional</span>
        <span class="c1"># so it is assumed to be the first argument to this method.</span>
        <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Argument data to </span><span class="si">{}</span><span class="s2"> is required&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">exclude</span> <span class="o">=</span> <span class="n">exclude</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">exclude</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sequence</span> <span class="o">=</span> <span class="n">sequence</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">TableData</span><span class="o">.</span><span class="n">from_data</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">set_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">default</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">default</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="n">default</span>

        <span class="c1"># Pinned rows #406</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pinned_row_attrs</span> <span class="o">=</span> <span class="n">AttributeDict</span><span class="p">(</span><span class="n">pinned_row_attrs</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">pinned_row_attrs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pinned_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;top&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_top_pinned_data</span><span class="p">(),</span>
            <span class="s2">&quot;bottom&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bottom_pinned_data</span><span class="p">(),</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="o">=</span> <span class="n">BoundRows</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">pinned_data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pinned_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="n">AttributeDict</span><span class="p">(</span><span class="n">attrs</span> <span class="k">if</span> <span class="n">attrs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;thead&quot;</span><span class="p">,</span> <span class="s2">&quot;tbody&quot;</span><span class="p">,</span> <span class="s2">&quot;tfoot&quot;</span><span class="p">]:</span>
            <span class="c1"># Add these attrs even if they haven&#39;t been passed so we can safely refer to them in the templates</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span> <span class="o">=</span> <span class="n">AttributeDict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="p">{}))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">row_attrs</span> <span class="o">=</span> <span class="n">AttributeDict</span><span class="p">(</span><span class="n">row_attrs</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">row_attrs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">empty_text</span> <span class="o">=</span> <span class="n">empty_text</span> <span class="k">if</span> <span class="n">empty_text</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">empty_text</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">orderable</span> <span class="o">=</span> <span class="n">orderable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">order_by_field</span> <span class="o">=</span> <span class="n">order_by_field</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">page_field</span> <span class="o">=</span> <span class="n">page_field</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">per_page_field</span> <span class="o">=</span> <span class="n">per_page_field</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_header</span> <span class="o">=</span> <span class="n">show_header</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_footer</span> <span class="o">=</span> <span class="n">show_footer</span>

        <span class="c1"># Make a copy so that modifying this will not touch the class</span>
        <span class="c1"># definition. Note that this is different from forms, where the</span>
        <span class="c1"># copy is made available in a ``fields`` attribute.</span>
        <span class="n">base_columns</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">base_columns</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">extra_columns</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">extra_columns</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">column</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">base_columns</span><span class="p">:</span>
                    <span class="k">del</span> <span class="n">base_columns</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">base_columns</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">column</span>

        <span class="c1"># Keep fully expanded ``sequence`` at _sequence so it&#39;s easily accessible</span>
        <span class="c1"># during render. The priority is as follows:</span>
        <span class="c1"># 1. sequence passed in as an argument</span>
        <span class="c1"># 2. sequence declared in ``Meta``</span>
        <span class="c1"># 3. sequence defaults to &#39;...&#39;</span>
        <span class="k">if</span> <span class="n">sequence</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sequence</span> <span class="o">=</span> <span class="n">sequence</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">sequence</span><span class="p">:</span>
            <span class="n">sequence</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">sequence</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">sequence</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">fields</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">,)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">sequence</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">,)</span>

        <span class="n">sequence</span> <span class="o">=</span> <span class="n">Sequence</span><span class="p">(</span><span class="n">sequence</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sequence</span> <span class="o">=</span> <span class="n">sequence</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">base_columns</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

        <span class="c1"># reorder columns based on sequence.</span>
        <span class="n">base_columns</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(((</span><span class="n">x</span><span class="p">,</span> <span class="n">base_columns</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">sequence</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">base_columns</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">columns</span><span class="o">.</span><span class="n">BoundColumns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_columns</span><span class="p">)</span>
        <span class="c1"># `None` value for order_by means no order is specified. This means we</span>
        <span class="c1"># `shouldn&#39;t touch our data&#39;s ordering in any way. *However*</span>
        <span class="c1"># `table.order_by = None` means &quot;remove any ordering from the data&quot;</span>
        <span class="c1"># (it&#39;s equivalent to `table.order_by = ()`).</span>
        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">order_by</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">order_by</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">order_by</span>
        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_order_by</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="c1"># If possible inspect the ordering on the data we were given and</span>
            <span class="c1"># update the table to reflect that.</span>
            <span class="n">order_by</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">ordering</span>
            <span class="k">if</span> <span class="n">order_by</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">order_by</span> <span class="o">=</span> <span class="n">order_by</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">order_by</span> <span class="o">=</span> <span class="n">order_by</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">template_name</span> <span class="o">=</span> <span class="n">template_name</span>
        <span class="c1"># If a request is passed, configure for request</span>
        <span class="k">if</span> <span class="n">request</span><span class="p">:</span>
            <span class="n">RequestConfig</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_counter</span> <span class="o">=</span> <span class="n">count</span><span class="p">()</span>

<div class="viewcode-block" id="Table.get_top_pinned_data"><a class="viewcode-back" href="../../pages/api-reference.html#django_tables2.tables.Table.get_top_pinned_data">[docs]</a>    <span class="k">def</span> <span class="nf">get_top_pinned_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return data for top pinned rows containing data for each row.</span>
<span class="sd">        Iterable type like: QuerySet, list of dicts, list of objects.</span>
<span class="sd">        Having a non-zero number of pinned rows</span>
<span class="sd">        will not result in an empty result set message being rendered,</span>
<span class="sd">        even if there are no regular data rows</span>

<span class="sd">        Returns:</span>
<span class="sd">            `None` (default) no pinned rows at the top, iterable, data for pinned rows at the top.</span>

<span class="sd">        Note:</span>
<span class="sd">            To show pinned row this method should be overridden.</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; class TableWithTopPinnedRows(Table):</span>
<span class="sd">            ...     def get_top_pinned_data(self):</span>
<span class="sd">            ...         return [{</span>
<span class="sd">            ...             &quot;column_a&quot; : &quot;some value&quot;,</span>
<span class="sd">            ...             &quot;column_c&quot; : &quot;other value&quot;,</span>
<span class="sd">            ...         }]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Table.get_bottom_pinned_data"><a class="viewcode-back" href="../../pages/api-reference.html#django_tables2.tables.Table.get_bottom_pinned_data">[docs]</a>    <span class="k">def</span> <span class="nf">get_bottom_pinned_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return data for bottom pinned rows containing data for each row.</span>
<span class="sd">        Iterable type like: QuerySet, list of dicts, list of objects.</span>
<span class="sd">        Having a non-zero number of pinned rows</span>
<span class="sd">        will not result in an empty result set message being rendered,</span>
<span class="sd">        even if there are no regular data rows</span>

<span class="sd">        Returns:</span>
<span class="sd">            `None` (default) no pinned rows at the bottom, iterable, data for pinned rows at the bottom.</span>

<span class="sd">        Note:</span>
<span class="sd">            To show pinned row this method should be overridden.</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; class TableWithBottomPinnedRows(Table):</span>
<span class="sd">            ...     def get_bottom_pinned_data(self):</span>
<span class="sd">            ...         return [{</span>
<span class="sd">            ...             &quot;column_a&quot; : &quot;some value&quot;,</span>
<span class="sd">            ...             &quot;column_c&quot; : &quot;other value&quot;,</span>
<span class="sd">            ...         }]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Table.before_render"><a class="viewcode-back" href="../../pages/api-reference.html#django_tables2.tables.Table.before_render">[docs]</a>    <span class="k">def</span> <span class="nf">before_render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A way to hook into the moment just before rendering the template.</span>

<span class="sd">        Can be used to hide a column.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            request: contains the `WGSIRequest` instance, containing a `user` attribute if</span>
<span class="sd">                `.django.contrib.auth.middleware.AuthenticationMiddleware` is added to</span>
<span class="sd">                your `MIDDLEWARE_CLASSES`.</span>

<span class="sd">        Example::</span>

<span class="sd">            class Table(tables.Table):</span>
<span class="sd">                name = tables.Column(orderable=False)</span>
<span class="sd">                country = tables.Column(orderable=False)</span>

<span class="sd">                def before_render(self, request):</span>
<span class="sd">                    if request.user.has_perm(&#39;foo.delete_bar&#39;):</span>
<span class="sd">                        self.columns.hide(&#39;country&#39;)</span>
<span class="sd">                    else:</span>
<span class="sd">                        self.columns.show(&#39;country&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span></div>

<div class="viewcode-block" id="Table.as_html"><a class="viewcode-back" href="../../pages/api-reference.html#django_tables2.tables.Table.as_html">[docs]</a>    <span class="k">def</span> <span class="nf">as_html</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Render the table to an HTML table, adding `request` to the context.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># reset counter for new rendering</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_counter</span> <span class="o">=</span> <span class="n">count</span><span class="p">()</span>
        <span class="n">template</span> <span class="o">=</span> <span class="n">get_template</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">template_name</span><span class="p">)</span>

        <span class="n">context</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="n">request</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">before_render</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">context</span><span class="p">)</span></div>

<div class="viewcode-block" id="Table.as_values"><a class="viewcode-back" href="../../pages/api-reference.html#django_tables2.tables.Table.as_values">[docs]</a>    <span class="k">def</span> <span class="nf">as_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exclude_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a row iterator of the data which would be shown in the table where</span>
<span class="sd">        the first row is the table headers.</span>

<span class="sd">        arguments:</span>
<span class="sd">            exclude_columns (iterable): columns to exclude in the data iterator.</span>

<span class="sd">        This can be used to output the table data as CSV, excel, for example using the</span>
<span class="sd">        `~.export.ExportMixin`.</span>

<span class="sd">        If a column is defined using a :ref:`table.render_FOO`, the returned value from</span>
<span class="sd">        that method is used. If you want to differentiate between the rendered cell</span>
<span class="sd">        and a value, use a `value_Foo`-method::</span>

<span class="sd">            class Table(tables.Table):</span>
<span class="sd">                name = tables.Column()</span>

<span class="sd">                def render_name(self, value):</span>
<span class="sd">                    return format_html(&#39;&lt;span class=&quot;name&quot;&gt;{}&lt;/span&gt;&#39;, value)</span>

<span class="sd">                def value_name(self, value):</span>
<span class="sd">                    return value</span>

<span class="sd">        will have a value wrapped in `&lt;span&gt;` in the rendered HTML, and just returns</span>
<span class="sd">        the value when `as_values()` is called.</span>

<span class="sd">        Note that any invisible columns will be part of the row iterator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">exclude_columns</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">exclude_columns</span> <span class="o">=</span> <span class="p">()</span>

        <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">column</span>
            <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">iterall</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">column</span><span class="o">.</span><span class="n">column</span><span class="o">.</span><span class="n">exclude_from_export</span> <span class="ow">or</span> <span class="n">column</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">exclude_columns</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="k">yield</span> <span class="p">[</span><span class="n">force_str</span><span class="p">(</span><span class="n">column</span><span class="o">.</span><span class="n">header</span><span class="p">,</span> <span class="n">strings_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="p">:</span>
            <span class="k">yield</span> <span class="p">[</span>
                <span class="n">force_str</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">get_cell_value</span><span class="p">(</span><span class="n">column</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="n">strings_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span>
            <span class="p">]</span></div>

    <span class="k">def</span> <span class="nf">has_footer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns True if any of the columns define a ``_footer`` attribute or a</span>
<span class="sd">        ``render_footer()`` method</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_footer</span> <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span><span class="n">column</span><span class="o">.</span><span class="n">has_footer</span><span class="p">()</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">show_header</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_show_header</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_show_header</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">show_header</span>

    <span class="nd">@show_header</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">show_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_show_header</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">order_by</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_order_by</span>

    <span class="nd">@order_by</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">order_by</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Order the rows of the table based on columns.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            value: iterable or comma separated string of order by aliases.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># collapse empty values to ()</span>
        <span class="n">order_by</span> <span class="o">=</span> <span class="p">()</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span> <span class="k">else</span> <span class="n">value</span>
        <span class="c1"># accept string</span>
        <span class="n">order_by</span> <span class="o">=</span> <span class="n">order_by</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">order_by</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">order_by</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># everything&#39;s been converted to a iterable, accept iterable!</span>
        <span class="k">for</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">order_by</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">OrderBy</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span><span class="o">.</span><span class="n">bare</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">orderable</span><span class="p">:</span>
                <span class="n">valid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_order_by</span> <span class="o">=</span> <span class="n">OrderByTuple</span><span class="p">(</span><span class="n">valid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_order_by</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">order_by_field</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_order_by_field</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_order_by_field</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">order_by_field</span>
        <span class="p">)</span>

    <span class="nd">@order_by_field</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">order_by_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_order_by_field</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">page_field</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_page_field</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_page_field</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">page_field</span>

    <span class="nd">@page_field</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">page_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_page_field</span> <span class="o">=</span> <span class="n">value</span>

<div class="viewcode-block" id="Table.paginate"><a class="viewcode-back" href="../../pages/api-reference.html#django_tables2.tables.Table.paginate">[docs]</a>    <span class="k">def</span> <span class="nf">paginate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">paginator_class</span><span class="o">=</span><span class="n">Paginator</span><span class="p">,</span> <span class="n">per_page</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Paginates the table using a paginator and creates a ``page`` property</span>
<span class="sd">        containing information for the current page.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            paginator_class (`~django.core.paginator.Paginator`): A paginator class to</span>
<span class="sd">                paginate the results.</span>

<span class="sd">            per_page (int): Number of records to display on each page.</span>
<span class="sd">            page (int): Page to display.</span>

<span class="sd">        Extra arguments are passed to the paginator.</span>

<span class="sd">        Pagination exceptions (`~django.core.paginator.EmptyPage` and</span>
<span class="sd">        `~django.core.paginator.PageNotAnInteger`) may be raised from this</span>
<span class="sd">        method and should be handled by the caller.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">per_page</span> <span class="o">=</span> <span class="n">per_page</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">per_page</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">paginator</span> <span class="o">=</span> <span class="n">paginator_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="p">,</span> <span class="n">per_page</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">page</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginator</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">per_page_field</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_per_page_field</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_per_page_field</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">per_page_field</span>
        <span class="p">)</span>

    <span class="nd">@per_page_field</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">per_page_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_per_page_field</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefix</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">prefix</span>

    <span class="nd">@prefix</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prefix</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prefixed_order_by_field</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">order_by_field</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prefixed_page_field</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_field</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prefixed_per_page_field</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">per_page_field</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sequence</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sequence</span>

    <span class="nd">@sequence</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">sequence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">Sequence</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="n">value</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_columns</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sequence</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">orderable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orderable</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orderable</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">orderable</span>

    <span class="nd">@orderable</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">orderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orderable</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">template_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_template</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_template</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">template_name</span>

    <span class="nd">@template_name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">template_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_template</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">paginated_rows</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the rows for the current page if the table is paginated, else all rows.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="o">.</span><span class="n">object_list</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rows</span>

<div class="viewcode-block" id="Table.get_column_class_names"><a class="viewcode-back" href="../../pages/api-reference.html#django_tables2.tables.Table.get_column_class_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_column_class_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">classes_set</span><span class="p">,</span> <span class="n">bound_column</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a set of HTML class names for cells (both ``td`` and ``th``) of a</span>
<span class="sd">        **bound column** in this table.</span>
<span class="sd">        By default this returns the column class names defined in the table&#39;s</span>
<span class="sd">        attributes.</span>
<span class="sd">        This method can be overridden to change the default behavior, for</span>
<span class="sd">        example to simply `return classes_set`.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            classes_set(set of string): a set of class names to be added</span>
<span class="sd">              to the cell, retrieved from the column&#39;s attributes. In the case</span>
<span class="sd">              of a header cell (th), this also includes ordering classes.</span>
<span class="sd">              To set the classes for a column, see `.Column`.</span>
<span class="sd">              To configure ordering classes, see :ref:`ordering-class-name`</span>

<span class="sd">            bound_column(`.BoundColumn`): the bound column the class names are</span>
<span class="sd">              determined for. Useful for accessing `bound_column.name`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A set of class names to be added to cells of this column</span>

<span class="sd">        If you want to add the column names to the list of classes for a column,</span>
<span class="sd">        override this method in your custom table::</span>

<span class="sd">            class MyTable(tables.Table):</span>
<span class="sd">                ...</span>

<span class="sd">                def get_column_class_names(self, classes_set, bound_column):</span>
<span class="sd">                    classes_set = super().get_column_class_names(classes_set, bound_column)</span>
<span class="sd">                    classes_set.add(bound_column.name)</span>

<span class="sd">                    return classes_set</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">classes_set</span></div></div>


<span class="k">def</span> <span class="nf">table_factory</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="n">Table</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">localize</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return Table class for given `model`, equivalent to defining a custom table class::</span>

<span class="sd">        class MyTable(tables.Table):</span>
<span class="sd">            class Meta:</span>
<span class="sd">                model = model</span>

<span class="sd">    Arguments:</span>
<span class="sd">        model (`~django.db.models.Model`): Model associated with the new table</span>
<span class="sd">        table (`.Table`): Base Table class used to create the new one</span>
<span class="sd">        fields (list of str): Fields displayed in tables</span>
<span class="sd">        exclude (list of str): Fields exclude in tables</span>
<span class="sd">        localize (list of str): Fields to localize</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="n">model</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;fields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fields</span>
    <span class="k">if</span> <span class="n">exclude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;exclude&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">exclude</span>
    <span class="k">if</span> <span class="n">localize</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;localize&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">localize</span>
    <span class="c1"># If parent form class already has an inner Meta, the Meta we&#39;re</span>
    <span class="c1"># creating needs to inherit from the parent&#39;s inner meta.</span>
    <span class="n">parent</span> <span class="o">=</span> <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">Meta</span><span class="p">,</span> <span class="nb">object</span><span class="p">)</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="s2">&quot;Meta&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="nb">object</span><span class="p">,)</span>
    <span class="n">Meta</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="s2">&quot;Meta&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">attrs</span><span class="p">)</span>

    <span class="c1"># Give this new table class a reasonable name.</span>
    <span class="n">class_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">+</span> <span class="s2">&quot;AutogeneratedTable&quot;</span>
    <span class="c1"># Class attributes for the new table class.</span>
    <span class="n">table_class_attrs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Meta&quot;</span><span class="p">:</span> <span class="n">Meta</span><span class="p">}</span>
    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">table</span><span class="p">)(</span><span class="n">class_name</span><span class="p">,</span> <span class="p">(</span><span class="n">table</span><span class="p">,),</span> <span class="n">table_class_attrs</span><span class="p">)</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>