<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Customizing headers and footers &mdash; django-tables2 2.4.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Swapping the position of columns" href="swapping-columns.html" />
    <link rel="prev" title="Column and row attributes" href="column-attributes.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> django-tables2
          </a>
              <div class="version">
                2.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="table-data.html">Populating a table with data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Customization</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="custom-data.html">Alternative column data</a></li>
<li class="toctree-l1"><a class="reference internal" href="ordering.html">Alternative column ordering</a></li>
<li class="toctree-l1"><a class="reference internal" href="column-attributes.html">Column and row attributes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Customizing headers and footers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#adding-column-headers">Adding column headers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#changing-class-names-for-ordered-column-headers">Changing class names for ordered column headers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#adding-column-footers">Adding column footers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pass-footer-argument-to-the-column-constructor">Pass <code class="xref py py-obj docutils literal notranslate"><span class="pre">footer</span></code>-argument to the <code class="xref py py-obj docutils literal notranslate"><span class="pre">Column</span></code> constructor.</a></li>
<li class="toctree-l3"><a class="reference internal" href="#define-render-footer-on-a-custom-column">Define <code class="xref py py-obj docutils literal notranslate"><span class="pre">render_footer</span></code> on a custom column.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="swapping-columns.html">Swapping the position of columns</a></li>
<li class="toctree-l1"><a class="reference internal" href="pagination.html">Pagination</a></li>
<li class="toctree-l1"><a class="reference internal" href="table-mixins.html">Table Mixins</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom-rendering.html">Customizing table style</a></li>
<li class="toctree-l1"><a class="reference internal" href="query-string-fields.html">Query string fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="localization-control.html">Controlling localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-mixins.html">Class Based Generic Mixins</a></li>
<li class="toctree-l1"><a class="reference internal" href="pinned-rows.html">Pinned rows</a></li>
<li class="toctree-l1"><a class="reference internal" href="filtering.html">Filtering data in your table</a></li>
<li class="toctree-l1"><a class="reference internal" href="export.html">Exporting table data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrade-changelog.html">Upgrading and change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">django-tables2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Customizing headers and footers</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/pages/column-headers-and-footers.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="customizing-headers-and-footers">
<span id="column-headers-and-footers"></span><h1>Customizing headers and footers<a class="headerlink" href="#customizing-headers-and-footers" title="Permalink to this headline">¶</a></h1>
<p>By default an header and no footer will be rendered.</p>
<section id="adding-column-headers">
<h2>Adding column headers<a class="headerlink" href="#adding-column-headers" title="Permalink to this headline">¶</a></h2>
<p>The header cell for each column comes from <code class="xref py py-obj docutils literal notranslate"><span class="pre">header</span></code>. By default this
method returns <code class="xref py py-obj docutils literal notranslate"><span class="pre">verbose_name</span></code>, falling back to the capitalized attribute
name of the column in the table class.</p>
<p>When using QuerySet data and a verbose name has not been explicitly defined for
a column, the corresponding model field’s <code class="xref py py-obj docutils literal notranslate"><span class="pre">verbose_name</span></code> will be used.</p>
<p>Consider the following:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Region</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">first_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">verbose_name</span><span class="o">=</span><span class="s2">&quot;model verbose name&quot;</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">last_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">region</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;Region&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">PersonTable</span><span class="p">(</span><span class="n">tables</span><span class="o">.</span><span class="n">Table</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">first_name</span> <span class="o">=</span> <span class="n">tables</span><span class="o">.</span><span class="n">Column</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">ln</span> <span class="o">=</span> <span class="n">tables</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">accessor</span><span class="o">=</span><span class="s2">&quot;last_name&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">region_name</span> <span class="o">=</span> <span class="n">tables</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">accessor</span><span class="o">=</span><span class="s2">&quot;region__name&quot;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">PersonTable</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="s2">&quot;first_name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">header</span>
<span class="go">&#39;Model Verbose Name&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="s2">&quot;ln&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">header</span>
<span class="go">&#39;Last Name&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="s2">&quot;region_name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">header</span>
<span class="go">&#39;Name&#39;</span>
</pre></div>
</div>
<p>As you can see in the last example (region name), the results are not always
desirable when an accessor is used to cross relationships. To get around this
be careful to define <code class="xref py py-obj docutils literal notranslate"><span class="pre">Column.verbose_name</span></code>.</p>
<section id="changing-class-names-for-ordered-column-headers">
<span id="ordering-class-name"></span><h3>Changing class names for ordered column headers<a class="headerlink" href="#changing-class-names-for-ordered-column-headers" title="Permalink to this headline">¶</a></h3>
<p>When a column is ordered in an ascending state there needs to be a way to show
it in the interface. django-tables2 does this by adding an <code class="xref py py-obj docutils literal notranslate"><span class="pre">asc</span></code> class for
ascending or a <code class="xref py py-obj docutils literal notranslate"><span class="pre">desc</span></code> class for descending. It should also be known that any
orderable column is added with an <code class="xref py py-obj docutils literal notranslate"><span class="pre">orderable</span></code> class to the column header.</p>
<p>Sometimes there may be a need to change these default classes.</p>
<p>On the <code class="xref py py-obj docutils literal notranslate"><span class="pre">attrs</span></code> attribute of the table, you can add a <code class="xref py py-obj docutils literal notranslate"><span class="pre">th</span></code> key with the value of
a dictionary. Within that <code class="xref py py-obj docutils literal notranslate"><span class="pre">th</span></code> dictionary, you may add an <code class="xref py py-obj docutils literal notranslate"><span class="pre">_ordering</span></code> key also
with the value of a dictionary.</p>
<p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">_ordering</span></code> element is optional and all elements within it are optional.
Inside you can have an <code class="xref py py-obj docutils literal notranslate"><span class="pre">orderable</span></code> element, which will change the default
<code class="xref py py-obj docutils literal notranslate"><span class="pre">orderable</span></code> class name. You can also have <code class="xref py py-obj docutils literal notranslate"><span class="pre">ascending</span></code> which will will change the
default <code class="xref py py-obj docutils literal notranslate"><span class="pre">asc</span></code> class name. And lastly, you can have <code class="xref py py-obj docutils literal notranslate"><span class="pre">descending</span></code> which will
change the default <code class="xref py py-obj docutils literal notranslate"><span class="pre">desc</span></code> class name.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Table</span><span class="p">(</span><span class="n">tables</span><span class="o">.</span><span class="n">Table</span><span class="p">):</span>
    <span class="n">Meta</span><span class="p">:</span>
        <span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;th&quot;</span> <span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;_ordering&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;orderable&quot;</span><span class="p">:</span> <span class="s2">&quot;sortable&quot;</span><span class="p">,</span> <span class="c1"># Instead of `orderable`</span>
                    <span class="s2">&quot;ascending&quot;</span><span class="p">:</span> <span class="s2">&quot;ascend&quot;</span><span class="p">,</span>   <span class="c1"># Instead of `asc`</span>
                    <span class="s2">&quot;descending&quot;</span><span class="p">:</span> <span class="s2">&quot;descend&quot;</span>  <span class="c1"># Instead of `desc`</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
</pre></div>
</div>
<p>It can also be specified at initialization using the <code class="xref py py-obj docutils literal notranslate"><span class="pre">attrs</span></code> for both: table and
column:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATTRIBUTES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;th&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;_ordering&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;orderable&quot;</span><span class="p">:</span> <span class="s2">&quot;sortable&quot;</span><span class="p">,</span> <span class="c1"># Instead of `orderable`</span>
            <span class="s2">&quot;ascending&quot;</span><span class="p">:</span> <span class="s2">&quot;ascend&quot;</span><span class="p">,</span>   <span class="c1"># Instead of `asc`</span>
            <span class="s2">&quot;descending&quot;</span><span class="p">:</span> <span class="s2">&quot;descend&quot;</span>  <span class="c1"># Instead of `desc`</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">table</span> <span class="o">=</span> <span class="n">tables</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="n">queryset</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="n">ATTRIBUTES</span><span class="p">)</span>

<span class="c1"># or</span>

<span class="k">class</span> <span class="nc">Table</span><span class="p">(</span><span class="n">tables</span><span class="o">.</span><span class="n">Table</span><span class="p">):</span>
    <span class="n">my_column</span> <span class="o">=</span> <span class="n">tables</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="n">ATTRIBUTES</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="adding-column-footers">
<span id="column-footers"></span><h2>Adding column footers<a class="headerlink" href="#adding-column-footers" title="Permalink to this headline">¶</a></h2>
<p>By default, no footer will be rendered. If you want to add a footer, define a
footer on at least one column.</p>
<p>That will make the table render a footer on every view of the table. It is up to
you to decide if that makes sense if your table is paginated.</p>
<section id="pass-footer-argument-to-the-column-constructor">
<h3>Pass <code class="xref py py-obj docutils literal notranslate"><span class="pre">footer</span></code>-argument to the <a class="reference internal" href="api-reference.html#django_tables2.columns.Column" title="django_tables2.columns.Column"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Column</span></code></a> constructor.<a class="headerlink" href="#pass-footer-argument-to-the-column-constructor" title="Permalink to this headline">¶</a></h3>
<p>The simplest case is just passing a <a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> as the footer argument to a column:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">country</span> <span class="o">=</span> <span class="n">tables</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">footer</span><span class="o">=</span><span class="s2">&quot;Total:&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will just render the string in the footer. If you need to do more complex
things, like showing a sum or an average, you can pass a callable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">population</span> <span class="o">=</span> <span class="n">tables</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span>
    <span class="n">footer</span><span class="o">=</span><span class="k">lambda</span> <span class="n">table</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;population&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>You can expect <code class="xref py py-obj docutils literal notranslate"><span class="pre">table</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">column</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">bound_column</span></code> as argument.</p>
</section>
<section id="define-render-footer-on-a-custom-column">
<h3>Define <code class="xref py py-obj docutils literal notranslate"><span class="pre">render_footer</span></code> on a custom column.<a class="headerlink" href="#define-render-footer-on-a-custom-column" title="Permalink to this headline">¶</a></h3>
<p>If you need the same footer in multiple columns, you can create your own custom
column. For example this column that renders the sum of the values in the column:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SummingColumn</span><span class="p">(</span><span class="n">tables</span><span class="o">.</span><span class="n">Column</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">render_footer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bound_column</span><span class="p">,</span> <span class="n">table</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">bound_column</span><span class="o">.</span><span class="n">accessor</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>Then use this column like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Table</span><span class="p">(</span><span class="n">tables</span><span class="o">.</span><span class="n">Table</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">tables</span><span class="o">.</span><span class="n">Column</span><span class="p">()</span>
    <span class="n">country</span> <span class="o">=</span> <span class="n">tables</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">footer</span><span class="o">=</span><span class="s2">&quot;Total:&quot;</span><span class="p">)</span>
    <span class="n">population</span> <span class="o">=</span> <span class="n">SummingColumn</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are summing over tables with big datasets, chances are it is going
to be slow. You should use some database aggregation function instead.</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="column-attributes.html" class="btn btn-neutral float-left" title="Column and row attributes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="swapping-columns.html" class="btn btn-neutral float-right" title="Swapping the position of columns" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>